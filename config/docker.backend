FROM node:18
WORKDIR /app
COPY package.json package-lock.json ./
COPY tsconfig.json ./
COPY ./config ./config/
COPY server/ ./server/
RUN npm install --legacy-peer-deps
RUN npm run build:backend
EXPOSE 5000
CMD ["npm", "run", "start:backend"]
